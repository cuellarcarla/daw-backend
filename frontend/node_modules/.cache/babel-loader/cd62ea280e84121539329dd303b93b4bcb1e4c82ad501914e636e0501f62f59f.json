{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/EmberLight_Projecte2/frontend/src/components/Sidebar.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './Sidebar.css';\nimport { getCookie } from '../utils/cookies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Sidebar({\n  sessions,\n  activeSession,\n  onSelectSession,\n  onCreateSession,\n  onDeleteSession\n}) {\n  _s();\n  const [showDropdown, setShowDropdown] = useState(null);\n  const handleDelete = async (sessionId, e) => {\n    e.stopPropagation();\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this chat?\");\n    if (!confirmDelete) return;\n    try {\n      const res = await fetch(`http://localhost:8000/geminiapi/sessions/${sessionId}/delete`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n        headers: {\n          \"X-CSRFToken\": getCookie(\"csrftoken\")\n        }\n      });\n      if (res.ok) {\n        // Refresh sessions\n        onDeleteSession(sessionId);\n      }\n    } catch (err) {\n      console.error(\"Failed to delete session:\", err);\n    }\n  };\n  const toggleDropdown = (sessionId, e) => {\n    e.stopPropagation();\n    setShowDropdown(showDropdown === sessionId ? null : sessionId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"new-chat-button\",\n      onClick: onCreateSession,\n      children: \"+ New chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sessions-list\",\n      children: sessions.map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `session-item ${activeSession === session.id ? 'active' : ''}`,\n        onClick: () => onSelectSession(session.id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-title\",\n          children: session.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-menu\",\n          onClick: e => toggleDropdown(session.id, e),\n          onMouseEnter: e => e.currentTarget.classList.add('hovered'),\n          onMouseLeave: e => e.currentTarget.classList.remove('hovered'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u22EF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), showDropdown === session.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu\",\n            onClick: e => e.stopPropagation(),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-item delete-item\",\n              onClick: e => handleDelete(session.id, e),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, session.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Sidebar, \"tOBpn0ES6Vj01KFp/V9qu35VNMo=\");\n_c = Sidebar;\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useState","getCookie","jsxDEV","_jsxDEV","Sidebar","sessions","activeSession","onSelectSession","onCreateSession","onDeleteSession","_s","showDropdown","setShowDropdown","handleDelete","sessionId","e","stopPropagation","confirmDelete","window","confirm","res","fetch","method","credentials","headers","ok","err","console","error","toggleDropdown","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","session","id","title","onMouseEnter","currentTarget","classList","add","onMouseLeave","remove","_c","$RefreshReg$"],"sources":["/home/ubuntu/EmberLight_Projecte2/frontend/src/components/Sidebar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './Sidebar.css';\nimport { getCookie } from '../utils/cookies';\n\nfunction Sidebar({ sessions, activeSession, onSelectSession, onCreateSession, onDeleteSession }) {\n  const [showDropdown, setShowDropdown] = useState(null);\n\n  const handleDelete = async (sessionId, e) => {\n    e.stopPropagation();\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this chat?\");\n    if (!confirmDelete) return;\n\n    try {\n      const res = await fetch(`http://localhost:8000/geminiapi/sessions/${sessionId}/delete`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n        headers: {\n          \"X-CSRFToken\": getCookie(\"csrftoken\"),\n        },\n      });\n      \n      if (res.ok) {\n        // Refresh sessions\n        onDeleteSession(sessionId);\n      }\n    } catch (err) {\n      console.error(\"Failed to delete session:\", err);\n    }\n  };\n\n  const toggleDropdown = (sessionId, e) => {\n    e.stopPropagation();\n    setShowDropdown(showDropdown === sessionId ? null : sessionId);\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <button className=\"new-chat-button\" onClick={onCreateSession}>\n        + New chat\n      </button>\n      <div className=\"sessions-list\">\n        {sessions.map(session => (\n          <div\n            key={session.id}\n            className={`session-item ${activeSession === session.id ? 'active' : ''}`}\n            onClick={() => onSelectSession(session.id)}\n          >\n            <div className=\"session-title\">{session.title}</div>\n            <div \n              className=\"session-menu\" \n              onClick={(e) => toggleDropdown(session.id, e)}\n              onMouseEnter={(e) => e.currentTarget.classList.add('hovered')}\n              onMouseLeave={(e) => e.currentTarget.classList.remove('hovered')}\n            >\n              <span>â‹¯</span>\n              {showDropdown === session.id && (\n                <div className=\"dropdown-menu\" onClick={(e) => e.stopPropagation()}>\n                  <div \n                    className=\"dropdown-item delete-item\" \n                    onClick={(e) => handleDelete(session.id, e)}\n                  >\n                    Delete\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}